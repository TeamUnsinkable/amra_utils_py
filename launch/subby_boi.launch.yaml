launch:

- arg:
    name: "stick_id"
    default: "1"
- arg:
    name: "throttle_id"
    default: "0"


# Motor Control
- node:
    pkg: "pololu_motor_control"
    exec: "controller_node"
    name: "PololuMotorController"
    param:
    - 
      name: 'port'
      value: "/dev/ttyACM1"

# Ardusub Translator
- node:
    pkg: "pololu_motor_control"
    exec: "ardusub_translator"
    name: "AruduSubTranslator"
    - 
      name: 'rate'
      value: 20

# Joy Translator - Stick
- node:
      pkg: "amra_utils_py"
      exec: "joy_translator"
      name: "JoyTranslatorStick"
      namespace: "joy"

      param:
      -       
        name: 'config_path'
        value: "$(var hotas_config_path)"
      - 
        name: "config_key"
        value: "$(var stick_id)"
      - 
        name: "joystick_in"
        value: "/joy/joystick"
      
# Joy Translator - Throttle
- node:
      pkg: "amra_utils_py"
      exec: "joy_translator"
      name: "JoyTranslatorThrottle"
      namespace: "joy"

      param:
      - 
        name: 'config_path'
        value: "$(var hotas_config_path)"
      - 
        name: "config_key"
        value: "$(var throttle_id)"
      - 
        name: "joystick_in"
        value: "/joy/throttle"
      

# Joy Actuator - Stick
- node:
      pkg: "amra_utils_py"
      exec: "joy_actuator"
      name: "JoyActuatorStick"
      namespace: "joy"

      param:
      - 
        name: 'config_path'
        value: "$(var hotas_config_path)"
      - 
        name: "config_key"
        value: "$(var stick_id)"
      - 
        name: "deadband"
        value: 0.15

# Joy Actuator - Throttle
- node:
      pkg: "amra_utils_py"
      exec: "joy_actuator"
      name: "JoyActuatorThrottle"
      namespace: "joy"

      param:
      - 
        name: 'config_path'
        value: "$(var hotas_config_path)"
      - 
        name: "config_key"
        value: "$(var throttle_id)"
      